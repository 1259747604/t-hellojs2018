<!DOCTYPE HTML>
<html>
	<head>
	     <!-- 声明当前页面编码集:utf-8国际编码 -->
		<meta http-equiv='Content-type' content='text/html; charset=utf-8'/>
		<title>please enter your title</title>
		 <!-- 关键词字数限制在31字，用英文逗号隔开 -->
		<meta name="Keywords" content="TT">
		 <!-- 简介描述 -->
		<meta name="description" content="TT">
		<style>
            body{user-select:none;}
		    *{margin:0;padding:0;}
		    ul{list-style:none;}
            table{margin:50px auto;border-color: #fe2b59;}
            table{border-collapse:collapse;}table th,table td{padding:0;}
            img{width:100px; height:100px;}
            td{width:250px;text-align:center;}
            .title{height:50px;background-color: #fe2b59;}
            .title td{border:none;}
            .down,.up{display:inline-block;margin:0 10px 0 10px;width:30px;height:30px;font-size:20px;background:#dbfefe;cursor:pointer;}
            .foot{margin:20px auto;width:1000px;height:60px;background: #fe2b59;}
            .foot p{float:right;margin-right:100px;line-height:60px;}
            .foot p span{color: #dbfefe;}
		</style>
    <body>
        <table border="1px">
            <thead>
            </thead>
            <tbody>
                <tr class="title">
                    <td>商品</td>
                    <td>单价</td>
                    <td>数量</td>
                    <td>小计</td>
                </tr>
                <tr>
                    <td><img src="img/shop1.jpg"></td>
                    <td><span>8</span></td>
                    <td><span class="down">-</span><span class="num">0</span><span class="up">+</span></td>
                    <td class="smallprice">0</td>
                </tr>
                <tr>
                    <td><img src="img/shop2.jpg"></td>
                    <td><span>10</span></td>
                    <td><span class="down">-</span><span class="num">0</span><span class="up">+</span></td>
                    <td class="smallprice">0</td>
                </tr>
                <tr>
                    <td><img src="img/shop3.jpg"></td>
                    <td><span>12.5</span></td>
                    <td><span class="down">-</span><span class="num">0</span><span class="up">+</span></td>
                    <td class="smallprice">0</td>
                </tr>
                <tr>
                    <td><img src="img/shop4.jpg"></td>
                    <td><span>22</span></td>
                    <td><span class="down">-</span><span class="num">0</span><span class="up">+</span></td>
                    <td class="smallprice">0</td>
                </tr>
            </tbody>
        </table>

        <div class="foot">
            <p>合计总数是:<span class="allnum">0</span></p>
            <p>合计总价是:<span class="price">0</span>元</p>
        </div>
        <script>
            var pspan = document.querySelectorAll("tr td:nth-child(2) span");
            var nspan = document.getElementsByClassName("num");
            var dspan = document.getElementsByClassName("down");
            var upspan = document.getElementsByClassName("up");
            var std = document.getElementsByClassName("smallprice");
            var allspan = document.getElementsByClassName("allnum");
            var prspan = document.getElementsByClassName("price");

            for(var i = 0; i < dspan.length; i++){
                var a = 0;
                dspan[i].index = i;
                dspan[i].onclick = function () {
                    if(nspan[this.index].innerHTML == 0){
                        nspan[this.index] = 0;
                        std[this.index].innerHTML = 0;
                    }
                    else {
                        nspan[this.index] = nspan[this.index].innerHTML--;
                        std[this.index].innerHTML = pspan[this.index].innerHTML * nspan[this.index].innerHTML;
                        allspan[0] = allspan[0].innerHTML--;
                        a -= pspan[this.index].innerHTML*1;
                        prspan[0].innerHTML = a;
                    }
                };
                upspan[i].index = i;
                upspan[i].onclick = function () {
                    nspan[this.index] = nspan[this.index].innerHTML++;
                    std[this.index].innerHTML = pspan[this.index].innerHTML * nspan[this.index].innerHTML;
                    allspan[0] = allspan[0].innerHTML++;
                    a += pspan[this.index].innerHTML*1;
                    prspan[0].innerHTML = a;
                };
            }
        </script>
    </body>
</html>