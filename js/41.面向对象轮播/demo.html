<!doctype html>
<html>
    <head>
        <!-- 声明当前页面编码集:utf-8国际编码 -->
        <meta http-equiv='Content-type' content='text/html; charset=utf-8'/>
        <title>please enter your title</title>
        <!-- 关键词字数限制在31字，用英文逗号隔开 -->
        <meta name="Keywords" content="TT">
        <!-- 简介描述 -->
        <meta name="description" content="TT">
        <style>
            *{margin:0;padding:0;}
            ul{list-style:none;}
            #banner{
                position: relative;
                margin: 50px auto;
                width: 600px;
                height: 400px;
            }
            #banner .pic ul li{
                display: none;
                position: absolute;
                top:0;
                left: 0;
                width:100%;
                height:100%;
            }
            #banner .pic ul li.active{
                display: block;
            }
            .pic ul li img{
                width:100%;
                height: 100%;
            }
            #banner .tab{
                position: absolute;
                top:350px;
                left: 50%;
                margin-left: -75px;
                width:150px;
                height: 32px;
                background: rgba(255,255,255,.2);
                border-radius: 20px;
            }
            #banner .tab ul >li{
                float: left;
                margin:6px 5px;
                width: 20px;
                height: 20px;
                border-radius:50%;
                background: #ffffff;
                cursor: pointer;
            }
            #banner .tab ul >li.active{
                background: #f34269;
            }
            #b2,#ban3{
                position: relative;
                margin: 50px auto;
                width: 400px;
                height: 300px;
            }
            #b2 .pic ul li,#ban3 .pic ul li{
                display: none;
                position: absolute;
                left:0;
                top:0;
                width:100%;
                height: 100%;

            }
            #b2 .pic ul li.active,#ban3 .pic ul li.active{
                display: block;
            }
            #b2 .pic ul li img,#ban3 .pic ul li img{
                width:100%;
                height: 100%;
            }
            #b2 .tab,#ban3 .tab{
                position: absolute;
                top:270px;
                left: 50%;
                margin-left: -85px;
                width:180px;
                height: 32px;
                background: rgba(255,255,255,.2);
                border-radius: 20px;
            }
            #b2 .tab ul >li,#ban3 .tab ul >li{
                float: left;
                margin:6px 5px;
                width: 20px;
                height: 20px;
                border-radius:50%;
                background: #ffffff;
                cursor: pointer;
            }
            #b2 .tab ul >li.active,#ban3 .tab ul >li.active{
                background: #f34269;
            }
            #b2 .btn span,#ban3 .btn span{
                position: absolute;
                top: 50%;
                margin-top:-25px;
                width:30px;
                height: 50px;
                background: rgba(255,255,255,.3);
                text-align: center;
                line-height: 50px;
                color: #ffffff;
                cursor:pointer;
            }
            #b2 .btn span.lbtn,#ban3 .btn span.lbtn{
                left:0;
            }
            #b2 .btn span.rbtn,#ban3 .btn span.rbtn{
                right:0;
            }
        </style>
    </head>
    <body>
    <div id="banner">
        <div class="pic">
            <ul>
                <li class="picLi"><img src="img/1.jpg" alt=""></li>
                <li class="picLi"><img src="img/2.png" alt=""></li>
                <li class="picLi"><img src="img/3.jpg" alt=""></li>
                <li class="picLi"><img src="img/4.jpg" alt=""></li>
                <li class="picLi"><img src="img/5.jpg" alt=""></li>
            </ul>
        </div>
        <div class="tab">
            <ul>
                <li class="tabLi"></li>
                <li class="tabLi"></li>
                <li class="tabLi"></li>
                <li class="tabLi"></li>
                <li class="tabLi"></li>
            </ul>
        </div>
    </div>
    <div id="b2">
        <div class="pic">
            <ul>
                <li><img src="img/1.jpg" alt=""></li>
                <li><img src="img/2.png" alt=""></li>
                <li><img src="img/3.jpg" alt=""></li>
                <li><img src="img/4.jpg" alt=""></li>
                <li><img src="img/5.jpg" alt=""></li>
                <li><img src="img/6.jpg" alt=""></li>
            </ul>
        </div>
        <div class="tab">
            <ul>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </ul>
        </div>
        <div class="btn"><span class="lbtn"><</span><span class="rbtn">></span></div>
    </div>
    <div id="ban3">
        <div class="pic">
            <ul>
                <li><img src="img/1.jpg" alt=""></li>
                <li><img src="img/2.png" alt=""></li>
                <li><img src="img/3.jpg" alt=""></li>
                <li><img src="img/4.jpg" alt=""></li>
                <li><img src="img/5.jpg" alt=""></li>
                <li><img src="img/6.jpg" alt=""></li>
            </ul>
        </div>
        <div class="tab">
            <ul>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </ul>
        </div>
        <div class="btn"><span class="lbtn"><</span><span class="rbtn">></span></div>
    </div>
        <script>
            //父类
            function Banner(picLi,tabLi) {
                //私有
                this.picLi = picLi;
                this.tabLi = tabLi;
                this.length = picLi.length;
                this.lastIndex = 0;
                this.init();
                this.tab();
            };
            Banner.prototype={
                constructor : Banner,
                //初始化
                init : function () {
                    this.picLi[0].className = "active";
                    this.tabLi[0].className = "active";
                },
                //tab事件
                tab : function () {
                    var This = this;
                    for(var i = 0; i < this.length; i++){
                        this.tabLi[i].index = i;
                        this.tabLi[i].onclick = function () {
                            var k = this.index;
                            This.change(function () {
                                this.lastIndex = k;
                            });
                        }
                    }
                },
                change : function (fn) {
                    this.picLi[this.lastIndex].className = "";
                    this.tabLi[this.lastIndex].className = "";
                    fn.call(this);
                    this.picLi[this.lastIndex].className = "active";
                    this.tabLi[this.lastIndex].className = "active";
                }
            };

            //子类1
            function Banner2(picLi,tabLi,btn) {
                //子类继承
                Banner.call(this,picLi,tabLi);
                this.btn = btn;
                this.cbtn();
            }
            function f() {}
            f.prototype = Banner.prototype;
            f.prototype.constructor = Banner2;
            Banner2.prototype = f.prototype;//原型继承

            Banner2.prototype.cbtn = function () {
                var This = this;
                for(var i = 0; i < 2; i++){
                      this.btn[i].index = i;
                      this.btn[i].onclick = function () {
                          var k = this.index;
                          This.change(function () {
                              if(k){
                                  this.lastIndex++;
                                  this.lastIndex %= this.length;
                              }
                              else{
                                  this.lastIndex--;
                                  if(this.lastIndex < 0){
                                      this.lastIndex = this.length -1;
                                  }

                              }
                          })
                      }
                  }
            };

            //子类2
            function Banner3(picLi,tabLi,btn,Ban,time) {
                //子类继承
                Banner2.call(this,picLi,tabLi,btn);
                this.Ban = Ban;
                this.time = time;
                this.stopt;//停止定时器
                this.timerr();
                this.emouse();
                this.lmouse();
            }
            function f1() {}
            f1.prototype = Banner2.prototype;
            f1.prototype.constructor = Banner3;
            Banner3.prototype = f1.prototype;//原型继承
            //定时器
            Banner3.prototype.timerr = function () {
                var This = this
                this.stopt = setInterval(function () {
                    This.change(function () {
                        this.lastIndex++;
                        this.lastIndex %= this.length;
                    })
                },this.time)
            };
            //鼠标进入
            Banner3.prototype.emouse = function () {
                var This = this;
                this.Ban.onmouseenter = function () {
                    clearInterval(This.stopt);
                }
            };
            //鼠标离开
            Banner3.prototype.lmouse = function () {
                var This = this;
                this.Ban.onmouseleave = function () {
                    This.timerr();
                }
            };


            (function () {
                var Ban = document.getElementById("banner"),
                    bPicLi = Ban.querySelectorAll(".pic ul li"),
                    bTabLi = Ban.querySelectorAll(".tab ul li");

                new Banner(bPicLi,bTabLi);
            })();

            (function () {
                var Ban2 = document.getElementById("b2"),
                    bPicLi = Ban2.querySelectorAll(".pic ul li"),
                    bTabLi = Ban2.querySelectorAll(".tab ul li"),
                    bbtn = Ban2.querySelectorAll(".btn span");

                new Banner2(bPicLi,bTabLi,bbtn);
                // new Banner(bPicLi,bTabLi);
            })();


            (function () {
                var Ban3 = document.getElementById("ban3"),
                    bPicLi = Ban3.querySelectorAll(".pic ul li"),
                    bTabLi = Ban3.querySelectorAll(".tab ul li"),
                    bbtn = Ban3.querySelectorAll(".btn span");

                var time = 1000
                let a = new Banner3(bPicLi,bTabLi,bbtn,Ban3,time);
                console.log(a);
            })();
        </script>
    </body>
</html>