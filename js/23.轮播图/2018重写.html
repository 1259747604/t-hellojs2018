<!DOCTYPE HTML>
<html>
    <head>
        <!-- 声明当前页面编码集:utf-8国际编码 -->
        <meta http-equiv='Content-type' content='text/html; charset=utf-8'/>
        <title>please enter your title</title>
        <!-- 关键词字数限制在31字，用英文逗号隔开 -->
        <meta name="Keywords" content="TT">
        <!-- 简介描述 -->
        <meta name="description" content="TT">
        <style>
            *{margin:0;padding:0;font-size:0;}
            ul{list-style:none;}
            .clearfix:after{content:'';display:block;clear:both;}
            #box{margin:50px auto;width:800px;height:800px;}
            #box ul{position:relative;margin:0 auto;width:600px;height:450px;overflow:hidden; }
            #box ul li{position:absolute;top:0;}
            #box ul li:nth-child(1){left:0;}
            #box ul li:nth-child(2){left:600px;}
            #box ul li:nth-child(3){left:1200px;}
            #box ul li:nth-child(4){left:1800px;}
            #box ul li:nth-child(5){left:2400px;}
            img{width:600px;height:450px;}
            .dot{position:absolute;left:1128px;top:501px;}
            .dot li{display:inline-block;margin-left:10px;width:15px;height:15px;border-radius:50%;background:#3ca4d8;cursor:pointer;}
            .dot li.choice{display:inline-block;margin-left:10px;border:4px solid #936b72;width:7px;height:7px;border-radius:50%;background:#3ca4d8;cursor:pointer;}
        </style>
    </head>
    <body>
        <div id="box">
            <ul class="clearfix">
                <li class="one">
                    <img src="1.jpg" alt="">
                </li>
                <li>
                    <img src="1.png" alt="">
                </li>
                <li>
                    <img src="2.jpg" alt="">
                </li>
                <li>
                    <img src="3.jpg" alt="">
                </li>
                <li>
                    <img src="4.jpg" alt="">
                </li>
            </ul>
        </div>
        <ul class="dot">
            <li class="choice"></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
        </ul>
        <script>
            var tLi = document.querySelectorAll("#box ul li");
            var tdot = document.querySelectorAll(".dot li");


            for(var i = 0; i < tdot.length; i++){

                tdot[i].index = i;
                tdot[i].onclick = function () {

                    choicecolor.call(this);

                    if(parseInt(getComputedStyle(tLi[this.index]).left) >= 0){//如果当前图在右侧
                        var time = setInterval(function () {
                            if(parseInt(getComputedStyle(tLi[this.index]).left) === 0){//如果当前图左定位已经为0
                                clearInterval(time);//清除定时器
                            }
                            else{
                                for(var b = 0; b < tLi.length; b++){//使每张图开始向左移动
                                    tLi[b].style.left = ""+parseInt(getComputedStyle(tLi[b]).left)-60+"px";
                                }
                            }
                        }.bind(this),8);//重新定位函数内this指向到对应按钮
                    }
                    else{//如果当前图在左侧
                        var time2 = setInterval(function () {
                            if(parseInt(getComputedStyle(tLi[this.index]).left) === 0){
                                clearInterval(time2);
                            }
                            else{
                                for(var c = 0; c < tLi.length; c++){//使每张图想右移动
                                    tLi[c].style.left = ""+parseInt(parseInt(getComputedStyle(tLi[c]).left)+60)+"px";
                                }
                            }
                        }.bind(this),8)//唯快不破的bug
                    }
                }
            }

            function choicecolor() {
                for(var i = 0; i < tdot.length; i++){
                    tdot[i].className = "";
                }
                this.className = "choice";
            }//改变选择按钮后颜色
        </script>
    </body>
</html>