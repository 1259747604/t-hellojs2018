<!DOCTYPE HTML>
<html>
	<head>
	     <!-- 声明当前页面编码集:utf-8国际编码 -->
		<meta http-equiv='Content-type' content='text/html; charset=utf-8'/>
		<title>please enter your title</title>
		 <!-- 关键词字数限制在31字，用英文逗号隔开 -->
		<meta name="Keywords" content="差不多小孩">
		 <!-- 简介描述 -->
		<meta name="description" content="差不多小孩">
		<style>
		    *{margin:0;padding:0;}
		    ul{list-style:none;}
			#box{position: relative;}
			.banner{position:relative;margin:30px auto;width: 600px;height: 400px;overflow: hidden;}
			li{position: absolute;top:0;left:0;display: none;}
			img{width: 600px;height: 400px;}
			.tab{
				position: absolute;
				left:663px;
				top:0;
			}
			.tab a{float: left;margin-right:20px;width:10px;height: 10px;border-radius: 50%;background: #e3c7a6;}
			.tab .active{background: #9fdbaa;}
		</style>
<body>
    <div id="box">
		<ul class="banner">
			<li><img src="1.jpg"> </li>
			<li><img src="2.jpg"> </li>
			<li><img src="3.jpg"> </li>
			<li><img src="4.jpg"> </li>
		</ul>
		<div class="tab">
			<a href="javascript:;" class="active"></a>
			<a href="javascript:;"></a>
			<a href="javascript:;"></a>
			<a href="javascript:;"></a>
		</div>
		<span id="nextpic">下一张</span>
	</div>
    <script>
		var oLi = document.getElementsByTagName('li');
		var oA = document.querySelectorAll('.tab a');
		var onext = document.getElementById('nextpic');
		var n = 0;
		var c = 0;

		oLi[n].style.display = "block";

		for(var i = 0;i<oLi.length;i++){
			oA[i].num = i;
			oA[i].onclick = function () {
			    if(this.num != n){
                    for(var i = 0;i < oA.length;i++){
                        oA[i].className = "";
                    }//清除全部按钮颜色
                    this.className = "active";  //当前的圆形按钮的背景色

                    var left = 0;
                    var last = n;

                    move1();
                    function move1() {
                        var timer1 = requestAnimationFrame(move1);
                        left -= 10;
                        if (left <= -600) {
                            left = -600;
                            cancelAnimationFrame(timer1);
                        }
                        oLi[last].style.left = left + "px";
                    }

                    n = this.num;
                    oLi[n].style.display = "block";  //点击的图显示

                    var left2 = 600;
                    oLi[n].style.left = left2 + "px"; //点击的图在右边600px

					move2();
					function move2() {
						var timer2 = requestAnimationFrame(move2);
                        left2 -= 10;
                        if (left2 <= 0) {
                            left2 = 0;
                            cancelAnimationFrame(timer2);
                        }
                        oLi[n].style.left = left2 + 'px';
                    }
				}				//点击的不是当前图
            };
		}//圆形按钮切换

		onext.onclick = function () {
            for(var i = 0 ;i<oA.length;i++){
                oA[i].className = '';
            }

			var left = 0;
			var last = n;

			move3();
			function move3() {
			    var timer3 = requestAnimationFrame(move3);
                left -= 2;
                if(left <= -600)
                {
                    left = -600;
                    cancelAnimationFrame(timer3);
                }
                oLi[last].style.left = left + 'px';
            }

            if(n < oLi.length - 1){
                n++;
            }
            else{
                n = 0;
            }

            oA[n].className = 'active';
			var leftx = 600;
			oLi[n].style.display = 'block';
			oLi[n].style.left = leftx + 'px';

			move4();
			function move4() {
			    var timer4 = requestAnimationFrame(move4);
                leftx -= 2;
                if(leftx <= 0){
                    leftx = 0;
                    cancelAnimationFrame(timer4);
                }
                oLi[n].style.left = leftx + 'px';
            }
		}; //下一张切换

		/*setInterval(function () {
            var left = 0;
            var last = c;
            var timer3 = setInterval(function () {
                left -= 10;
                if(left <= -600)
                {
                    left = -600;
                    clearInterval(timer3);
                }
                oLi[last].style.left = left + 'px';
            },13);
            if(c < oLi.length - 1){
                c++;
            }
            else{
                c = 0;
            }
            var leftx = 600;
            oLi[c].style.display = 'block';
            oLi[c].style.left = leftx + 'px';
            var timer4 = setInterval(function () {
                leftx -= 10;
                if(leftx <= 0){
                    leftx = 0;
                    clearInterval(timer4);
                }
                oLi[c].style.left = leftx + 'px';
            },13)
        },1000);*///定时器切换
	</script>
</body>
</html>